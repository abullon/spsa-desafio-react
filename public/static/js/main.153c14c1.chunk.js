(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e){e.exports={a:[{customerId:"1",firstName:"Pedro",lastName:"Ayala",age:"22",birthDate:"02/02/1980",estimateDeathDate:"02/02/2059"},{customerId:"2",firstName:"Juan",lastName:"Perez",age:"33",birthDate:"05/05/1985",estimateDeathDate:"02/02/2064"},{customerId:"3",firstName:"Ramiro",lastName:"Diaz",age:"28",birthDate:"02/06/1982",estimateDeathDate:"02/02/2061"}]}},12:function(e,t,a){e.exports=a(20)},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),i=a.n(r),o=(a(18),a(11)),l=a(2),c=a(3),m=a(5),u=a(4),d=a(1),h=a(6),p=(a(19),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.customer;return s.a.createElement("tr",{className:"table-active",key:t.customerId},s.a.createElement("th",{scope:"row"},t.firstName),s.a.createElement("td",null,t.lastName),s.a.createElement("td",null,t.age),s.a.createElement("td",null,t.birthDate),s.a.createElement("td",null,t.estimateDeathDate),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-danger",onClick:function(){window.confirm("Seguro de borrar cliente?")&&e.props.deleteCustomer.bind(e,t.customerId)()}},"Borrar")))}}]),t}(n.Component)),f=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getCustomerAll.bind(this)()}},{key:"render",value:function(){var e=this;return this.props.isLoading?s.a.createElement("p",null,"Loading..."):s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"btn btn-success"},s.a.createElement("div",null,"Lista de Clientes",s.a.createElement("span",{className:"badge badge-pill badge-light ml-2"},this.props.data&&this.props.data.length))),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-dark"},s.a.createElement("th",{scope:"col"},"Nombre"),s.a.createElement("th",{scope:"col"},"Apellido"),s.a.createElement("th",{scope:"col"},"Edad"),s.a.createElement("th",{scope:"col"},"Fecha Nacimiento"),s.a.createElement("th",{scope:"col"},"Fecha Probable Muerte "),s.a.createElement("th",{width:"10%"}))),s.a.createElement("tbody",null,this.props.data&&this.props.data.map(function(t){return s.a.createElement(p,{key:t.customerId,customer:t,deleteCustomer:e.props.deleteCustomer})}))))}}]),t}(n.Component),b=a(9),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),e.props.addCustomer(e.state),e.setState({customerId:"",firstName:"",lastName:"",age:"",birthDate:""})},e.onChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.state={customerId:"",firstName:"",lastName:"",age:"",birthDate:""},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"btn btn-success"},"Creaci\xf3n de Cliente"),s.a.createElement("form",{onSubmit:this.onSubmit,className:"card-body"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.onChange,placeholder:"Ingrese Nombre",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"lastName",className:"form-control",value:this.state.lastName,onChange:this.onChange,placeholder:"Ingrese Apellido",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"number",name:"age",className:"form-control",value:this.state.age,onChange:this.onChange,placeholder:"Ingrese Edad",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"birthDate",className:"form-control",value:this.state.birthDate,onChange:this.onChange,placeholder:"Ingrese Fecha Nacimiento",required:!0})),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",className:"btn btn-success"},"Grabar"))))}}]),t}(n.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getCustomerKpi.bind(this)()}},{key:"render",value:function(){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"btn btn-success"},"KPI de Clientes"),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"table-dark"},s.a.createElement("th",{scope:"col"},"Promedio edad"),s.a.createElement("th",{scope:"col"},"Desviaci\xf3n est\xe1ndar"),s.a.createElement("th",{width:"10%"}))),s.a.createElement("tbody",null,s.a.createElement("tr",{className:"table-active"},s.a.createElement("td",null,this.props.data.averageAge),s.a.createElement("td",null,this.props.data.standardDeviation),s.a.createElement("td",null)))))}}]),t}(n.Component),v=a(10),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={page:"home",title:"Inicio",customers:[],customersOffline:v.a,customerKpi:[],backToHome:!1,isLoading:!1,offline:!1},a.handleGoHomeClick=a.handleGoHomeClick.bind(Object(d.a)(a)),a.handleGoCustomerNewClick=a.handleGoCustomerNewClick.bind(Object(d.a)(a)),a.handleGoCustomerListClick=a.handleGoCustomerListClick.bind(Object(d.a)(a)),a.handleGoCustomerKpiClick=a.handleGoCustomerKpiClick.bind(Object(d.a)(a)),a.handleAddCustomer=a.handleAddCustomer.bind(Object(d.a)(a)),a.handleDeleteCustomer=a.handleDeleteCustomer.bind(Object(d.a)(a)),a.getCustomerAll=a.getCustomerAll.bind(Object(d.a)(a)),a.getCustomerKpi=a.getCustomerKpi.bind(Object(d.a)(a)),a.serverUrl="http://localhost:8081",a.customersUrl=a.serverUrl+"/api/v1/customers",a.customerKpiUrl=a.serverUrl+"/api/v1/customers/kpi",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleGoHomeClick",value:function(e){e.preventDefault(),this.setState({page:"home",title:"Inicio"})}},{key:"handleGoCustomerNewClick",value:function(e){e.preventDefault(),this.setState({page:"customerNew",title:"Creaci\xf3n de Cliente"})}},{key:"handleGoCustomerListClick",value:function(e){e.preventDefault(),this.setState({page:"customerList",title:"Lista de Clientes"})}},{key:"handleGoCustomerKpiClick",value:function(e){e.preventDefault(),this.setState({page:"customerKpi",title:"KPI de Clientes"})}},{key:"getCustomerAll",value:function(){var e=this;this.setState({isLoading:!0}),fetch(this.customersUrl).then(function(e){return e.json()}).then(function(t){e.setState({customers:t,isLoading:!1,offline:!1})}).catch(function(t){e.toogleOfflineMode()})}},{key:"getCustomerKpi",value:function(){var e=this;this.setState({isLoading:!0}),fetch(this.customerKpiUrl).then(function(e){return e.json()}).then(function(t){return e.setState({customerKpi:t,isLoading:!1})}).catch(function(t){e.setState({customerKpi:{averageAge:33.05,standardDeviation:5.89}}),e.toogleOfflineMode()})}},{key:"handleAddCustomer",value:function(e){var t=this;fetch(this.customersUrl,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){return alert("Datos registrados satisfactoriamente!")}).catch(function(a){e.estimateDeathDate="01/01/2060",t.setState({customersOffline:[].concat(Object(o.a)(t.state.customersOffline),[e])}),t.toogleOfflineMode(),alert("Datos registrados satisfactoriamente!")})}},{key:"handleDeleteCustomer",value:function(e){var t=this;fetch(this.customersUrl,{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){return t.setState({page:"home",title:"Inicio"})}).catch(function(a){t.setState({customersOffline:t.state.customersOffline.filter(function(t){return t.customerId!==e})}),t.toogleOfflineMode()})}},{key:"toogleOfflineMode",value:function(){this.setState({isLoading:!1,offline:!0})}},{key:"getCustomersData",value:function(){return this.state.offline?this.state.customersOffline:this.state.customers}},{key:"getModeText",value:function(){return this.state.offline?"Offline":"Online"}},{key:"getContent",value:function(){return"home"===this.state.page?s.a.createElement("div",{className:"btn-group-vertical","data-toggle":"buttons"},s.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleGoCustomerNewClick},"Creaci\xf3n de Cliente"),s.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleGoCustomerListClick},"Lista de Clientes"),s.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleGoCustomerKpiClick},"KPI de Clientes")):"customerNew"===this.state.page?s.a.createElement(C,{addCustomer:this.handleAddCustomer,onBack:this.handleBackToHome}):"customerList"===this.state.page?s.a.createElement(f,{data:this.getCustomersData(),getCustomerAll:this.getCustomerAll,deleteCustomer:this.handleDeleteCustomer}):"customerKpi"===this.state.page?s.a.createElement(g,{data:this.state.customerKpi,getCustomerKpi:this.getCustomerKpi}):void 0}},{key:"render",value:function(){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("div",{className:"card-link"},s.a.createElement("div",{className:"Inline-left"},s.a.createElement("a",{href:"#",onClick:this.handleGoHomeClick},"Inicio",s.a.createElement("i",{className:"material-icons"},"home"))),s.a.createElement("div",{className:"Inline-center"},"SPSA - Mantenimiento de Clientes"),s.a.createElement("div",{className:"Inline-right"},"(",this.getModeText(),")"))),s.a.createElement("div",null,this.getContent()))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.153c14c1.chunk.js.map